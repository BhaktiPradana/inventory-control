<div class="modal-header card-header-professional text-white border-0">
    <h5 class="modal-title fs-5">
        <i class="bi bi-tools me-2"></i> History Penggunaan: {{ part_name }}
    </h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
</div>

<div class="modal-body p-0">
    <div class="list-group list-group-flush">
        {% for usage in history_usage %}
        <div class="list-group-item list-group-item-action border-start border-3 ps-3 py-3
             {% if usage.status == 'Approved' %} border-success
             {% elif usage.status == 'Pending' %} border-warning
             {% else %} border-danger {% endif %}">

            <div class="d-flex w-100 justify-content-between align-items-center mb-1">
                <h6 class="mb-0 fw-bold text-primary">
                    <i class="bi bi-tag-fill me-1"></i> SKU: {{ usage.qc_form.sku.sku_id }}
                </h6>
                <small class="text-muted text-end">
                    <i class="bi bi-calendar"></i> {{ usage.created_at|date:"d M Y" }}
                    <span class="d-block small"><i class="bi bi-clock"></i> {{ usage.created_at|date:"H:i" }}</span>
                </small>
            </div>

            <p class="mb-1 small">
                <span class="d-block">
                    Digunakan oleh:
                    <strong class="text-dark">{{ usage.qc_form.technician.username }}</strong>
                </span>

                Jumlah: <span class="badge bg-danger rounded-pill fw-bold">{{ usage.quantity_needed }} unit</span>

                Status:
                <span class="badge
                    {% if usage.status == 'Approved' %} bg-success
                    {% elif usage.status == 'Pending' %} bg-warning text-dark
                    {% else %} bg-danger
                    {% endif %}
                    ms-1">
                    {{ usage.get_status_display }}
                </span>
            </p>
        </div>
        {% empty %}
        <div class="p-4 text-center text-muted">
            <i class="bi bi-info-circle me-1"></i> Belum ada history penggunaan untuk part ini.
        </div>
        {% endfor %}
    </div>
</div>

<div class="modal-footer justify-content-end border-top">
    <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">
        <i class="bi bi-x-lg"></i> Tutup
    </button>
</div>